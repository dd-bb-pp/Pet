# PawPals 宠物社交平台 - 部署指南

## 常见问题：部署后数据库连接失败

如果您在部署到 Netlify 或其他平台后遇到"数据库连接失败"的问题，这通常是由于 CORS（跨域资源共享）限制导致的。

## 解决方案

### 1. 配置 Supabase Allowed URLs

1. 登录您的 Supabase 仪表板
2. 选择您的项目
3. 进入 **Project Settings** > **API**
4. 在 **Allowed URLs** 部分添加您的部署 URL

例如，如果您的应用部署在 `https://your-app.netlify.app`，您需要添加：
- `https://your-app.netlify.app`

### 2. 本地开发环境

对于本地开发，通常需要添加：
- `http://localhost:3000`（或您使用的端口）
- `http://127.0.0.1:3000`

### 3. 重新部署

完成上述配置后，重新部署您的应用。

## 技术说明

这个问题发生的原因是：
1. 浏览器的安全策略阻止了跨域请求
2. Supabase 需要知道哪些域名被允许访问您的数据库
3. 部署环境的域名与本地开发环境不同

## 故障排除

如果问题仍然存在，请：

1. 打开浏览器开发者工具（F12）
2. 查看 Console 标签页中的错误信息
3. 检查 Network 标签页中的请求状态
4. 确保您的 Supabase URL 和 API 密钥正确无误

## 联系支持

如果以上步骤都无法解决问题，请联系我们的技术支持团队。